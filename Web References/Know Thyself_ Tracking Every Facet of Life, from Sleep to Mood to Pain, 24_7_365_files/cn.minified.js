jQuery.noConflict();if(typeof Object.make!=="function"){Object.make=function(e){return function(t){e.prototype=t;return new e}}(function(){})}Function.prototype.memoize=function(){var e={},t=this,n=arguments.length>0?arguments[i]:null,r;r=function(){var r=[],i,s;for(i=0,s=arguments.length;i<s;i++){r[i]=arguments[i]}if(!(r in e)){e[r]=t.apply(n,arguments)}return e[r]};r.unmemoize=function(){return t};return r};Function.prototype.unmemoize=function(){CN.debug.info("Attempted to unmemoize a function that was never memoized in the first place");return null};if(!Array.prototype.forEach){Array.prototype.forEach=function(e,t){if(!this.splice){return}var n,r,i;n=t||window;for(r=0,i=this.length;r<i;++r){e.call(n,this[r],r,this)}};Array.prototype.every=function(e,t){if(!this.splice){return}var n,r,i;n=t||window;for(r=0,i=this.length;r<i;++r){if(!e.call(n,this[r],r,this)){return false}}return true};Array.prototype.some=function(e,t){if(!this.splice){return}var n,r,i;n=t||window;for(r=0,i=this.length;r<i;++r){if(e.call(n,this[r],r,this)){return true}}return false};Array.prototype.map=function(e,t){if(!this.splice){return}var n,r,i,s;n=t||window;r=[];for(i=0,s=this.length;i<s;++i){r.push(e.call(n,this[i],i,this))}return r};Array.prototype.filter=function(e,t){if(!this.splice){return}var n,r,i,s;n=t||window;r=[];for(i=0,s=this.length;i<s;++i){if(!e.call(n,this[i],i,this)){continue}r.push(this[i])}return r};Array.prototype.indexOf=function(e,t){if(!this.splice){return}var n,r;t=t||0;for(n=t,r=this.length;n<r;++n){if(this[n]===e){return n}}return-1};Array.prototype.lastIndexOf=function(e,t){if(!this.splice){return}var n;t=t||this.length;if(t>=this.length){t=this.length}if(t<0){t=this.length+t}for(n=t;n>=0;--n){if(this[n]===e){return n}}return-1}}if(!Array.prototype.remove){Array.prototype.remove=function(e,t){if(!this.splice){return}this.splice(e,(t||e||1)+(e<0?this.length:0));return this.length}}if(typeof CN==="undefined"||!CN){var CN={}}CN.isBoolean=function(e){return typeof e==="boolean"};CN.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"};CN.isEmpty=function(e){return!/\S/.test(e||"")};CN.isNull=function(e){return e===null};CN.isNumber=function(e){return typeof e==="number"&&isFinite(e)};CN.isObject=function(e){return typeof e==="object"};CN.isString=function(e){return typeof e==="string"};CN.isUndefined=function(e){return typeof e==="undefined"};CN.url=function(){var e=[];return{domain:function(e){var t=(e?e.replace(/^https*:\/\/|(:|\/).*$/g,""):location.hostname).split("."),n=t.length;return t.slice(n-2,n).join(".")},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0]},isSecure:function(){return location.protocol==="https:"},params:function(e,t,n){var r=CN.utils.parseStr(t||location.search,n||"query");return e?r[e]||"":r},path:function(){if(e.length===0){e=location.pathname.match(/([^\/]+)/g)||[""]}return e},getFragment:function(){return location.hash.substring(1)||false},setFragment:function(e){location.hash=e||"";return this}}}();CN.utils=function(){var e={},t={query:/([^?=&]+)(=([^&]*))?/g,hash:/([^#=&]+)(=([^&]*))?/g,usercookie:/([^=|]+)(=([^|]*))?/g},n=function(e,t,n,r){e=String(e||"");n=String(n||" ");var i=e.length,s=n.length;if(i>=t){return e}while(i<t){e=r==="left"?n+e:e+n;i+=s}return e};return{parseStr:function(n,r){if(e[n+"_"+r]){return e[n+"_"+r]}e[n+"_"+r]={};(n||"").replace(t[r],function(t,i,s,o){e[n+"_"+r][i]=o});return e[n+"_"+r]},intval:function(e,t){if(typeof e==="boolean"){return e?1:0}else if(typeof e==="string"){e=parseInt(e*1,t||10);return isNaN(e)||!isFinite(e)?0:e}else if(typeof e==="number"&&isFinite(e)){return Math.floor(e)}return 0},trim:function(e){var t=-1,n=e.length;while(e.charCodeAt(--n)<33);while(++t<n&&e.charCodeAt(t)<33);return e.slice(t,n+1)},transliterate:function(e,t){if(typeof e=="undefined"){return""}if(typeof t=="undefined"){t=true}e=escape(e).replace(/%C[0-5]/g,"A").replace(/%C6/g,"AE").replace(/%C7/g,"C").replace(/%C[8-9|A-B]/g,"E").replace(/%C[C-F]/g,"I").replace(/%D[2-8]/g,"O").replace(/%D[9|A-C]/g,"U").replace(/%DD/g,"Y").replace(/%u0178/g,"Y").replace(/%u017D/g,"Z").replace(/%u0160/g,"S").replace(/%E[0-5]/g,"a").replace(/%E6/g,"ae").replace(/%E7/g,"c").replace(/%E[8-9|A-B]/g,"e").replace(/%E[C-F]/g,"i").replace(/%F[2-8]/g,"o").replace(/%F[9|A-C]/g,"u").replace(/%F[D-F]/g,"y").replace(/%u017E/g,"z").replace(/%u0161/g,"s").replace(/%u2014/g,"-").replace(/%u2013/g,"-").replace(/%u201[8-9]/g,"'").replace(/%u201A/g,",").replace(/%u2026/g,"...").replace(/%u201[C-D]/g,'"').replace(/%3F/g,"?").replace(/%21/g,"!").replace(/%26/g,"&").replace(/%25/g,"%").replace(/%24/g,"$").replace(/%5E/g,"^").replace(/%28/g,"(").replace(/%29/g,")").replace(/%7E/g,"~").replace(/%60/g,"`").replace(/%23/g,"#").replace(/%3D/g,"=").replace(/%2C/g,",").replace(/%3C/g,"<").replace(/%2E/g,">").replace(/%7C/g,"|").replace(/%3A/g,":").replace(/%3B/g,";").replace(/%7D/g,"}").replace(/%7B/g,"{").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%20/g," ");if(t){e=e.replace(/%u[0-9|A-F][0-9|A-F][0-9|A-F][0-9|A-F]/g,"").replace(/%u[0-9|A-F][0-9|A-F]/g,"").replace(/%[0-9|A-F][0-9|A-F]/g,"")}else{e=unescape(e)}return e},padLeft:function(e,t,r){return n(e,t,r,"left")},padRight:function(e,t,r){return n(e,t,r,"right")},uriencdec:function(e,t){return t?encodeURIComponent(e):decodeURIComponent(e)},mapPropertyArray:function(e,t,n){t=t||"name";n=n||"value";var r={};if(jQuery.isArray(e)){jQuery.each(e,function(i){r[e[i][t]]=e[i][n]})}else{r[e[t]]=e[n]}return r}}}();CN.debug=function(){var e={error:{f:"error",msg:"ERROR"},warn:{f:"warn",msg:"WARNING"},info:{f:"info",msg:"INFO"},user:{f:"error",msg:"USER"}},t={DEV:"Development",STAG:"Staging",PREV:"Preview",PROD:"Production"},n=function(){return},r=function(t,n,r){var i=e[t]||e.debug;if(CN.site.env==="PROD"&&!CN.site.debug){return}n=n||"NO MSG";r=r||[];if(typeof console==="object"){var s=console[i.f]||console.info;r.unshift(i.msg,n);for(var o=0;o<r.length-1;o+=2){var u=r.splice(0,o+1);u.push(" :: ");r=u.concat(r)}if(console.firebug){s.apply(this,r)}else if(typeof console[i.f]==="function"){console[i.f](r)}}};if(CN.url.params("debugOff")==="true"){r=n}return{error:function(e,t){r("error",e,t);return this},warn:function(e,t){r("warn",e,t);return this},info:function(e,t){r("info",e,t);return this},user:function(e,t){r("user",e.message,[t,e.fileName,e.lineNumber,e.name,e.stack]);return this},speedtest:function(e,t,n){var r,i;if(CN.isNumber(t)){n=t;t=[]}if(!jQuery.isArray(t)){t=[]}n=n||1e4;if(!jQuery.isFunction(e)){CN.debug.error("Not a function",[e]);return this}if(typeof console==="object"){if(console.time){r="timer"+Math.floor(Math.random()*1e6);console.time(r);for(i=0;i<n;i++){e.apply(this,t)}console.timeEnd(r)}else{r=new Date-0;for(i=0;i<n;i++){e.apply(this,t)}r=new Date-r;console.log(r)}}else{r=new Date-0;for(i=0;i<n;i++){e.apply(this,t)}r=new Date-r;alert(r)}return this},app:function(){var e={},n=function(t,n,i){if(e[CN.site.env][t]){r(t,n,i)}};return{setLevel:function(n,r){if(!n||!jQuery.isArray(n)||n.length===0){return this}r=r&&r in t?r:"DEV";e[r]=n;return this},getLevel:function(t){return t?e[t]||"":e},error:function(e,t){n("error",e,t);return this},warn:function(e,t){n("warn",e,t);return this},info:function(e,t){n("info",e,t);return this},user:function(e,t){n("user",e.message,[t,e.fileName,e.lineNumber,e.name,e.stack]);return this}}}}}();if(CN.url.params("debugOff")!=="true"){window.onerror=function(e,t,n){CN.debug.error(e,[t,n]);return CN.site.env==="PROD"?true:false}}CN.site=function(){return{code:"",title:"",name:"",alias:"",env:"",cnd:false,debug:!!CN.url.params("magdebug")&&!this.cnd,noads:!!CN.url.params("magnoads")&&!this.cnd,testads:CN.url.params("dartAdOverride")&&!this.cnd,init:function(e){e=e||{};for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this[this.name]={};this.domain=CN.url.domain();try{if(this.domain){document.domain=this.domain}CN.debug.info("Document domain was set",[this.domain])}catch(n){CN.debug.error(n)}CN.debug.info("CN Started",[this.code,this.title,this.env,this.name,this.alias,this.cnd,this.debug,this.noads]);return this}}}();CN.callwhen={add:function(e,t,n){if(!e||!t||!t["func"]){return}n=n||{},e=e==="after"?"callback":"callbefore",t={func:t["func"],params:t["params"]||[],scope:t["scope"]||window};if(jQuery.isFunction(t.func)&&CN.isString(e)){n[e]=n[e]||[],n[e].push(t)}return n},run:function(e,t,n){if(!CN.isObject(e)){return}if(CN.isString(t)){n=t,t=window}var r,i;if((n==="before"||!n)&&jQuery.isArray(e.callbefore)){for(var s=0,o=e.callbefore.length;s<o;s++){if(CN.isObject(e.callbefore[s])){i=e.callbefore[s],r=i.scope||window;if(jQuery.isFunction(i.func)){i.func.call(r,i.params||{})}}}}if((n==="after"||!n)&&jQuery.isArray(e.callback)){for(var s=0,o=e.callback.length;s<o;s++){if(CN.isObject(e.callback[s])){t=t||window,i=e.callback[s],r=i.scope||window;if(jQuery.isFunction(i.func)){t.bind(i.event||"load",function(){i.func.apply(r,i.params||[])})}}}}}};CN.config=function(){var e,t,n;e=function(e){return CN.page.config?CN.page.config[e]:""};t=function(e){CN.page.config=CN.page.config||{};var t;for(t in e){if(e.hasOwnProperty(t)){CN.page.config[t]=e[t]}}return this};n=function(){var e=CN.page.config?CN.page.config:{},t;for(t in e){if(e.hasOwnProperty(t)){CN.debug.info("CONFIG LIST: "+t+" : "+e[t])}}};return{get:e,set:t,listProperties:n}}();CN.cookie=function(){var e={};return{get:function(t){if(e[t]){return e[t]}var n=document.cookie.split("; "),r=[],i=0,s=n.length;for(;i<s;i++){r=n[i].split("=");e[r[0]]=decodeURIComponent(r.slice(1).join("="));if(r[0]===t){return e[r[0]]}}this.delCache(t);return""},del:function(e,t){t=t||{};t.expires=-1;return this.set(e,"",t)},set:function(t,n,r){this.delCache(t);r=r||{};n=n||"";r.expires=CN.isDate(r.expires)?r.expires.toUTCString():CN.isNumber(r.expires)?(new Date(+(new Date)+r.expires*60*60*1e3)).toUTCString():"";var i=true,s,o;if(r.encode!==undefined){i=r.encode}s=i?encodeURIComponent(n):n;o=[t+"="+s];if(r.expires){o.push("expires="+r.expires)}if(r.path){o.push("path="+r.path)}if(r.domain){o.push("domain="+r.domain)}if(r.secure){o.push("secure")}return document.cookie=o.join("; "),e[t]=n,true},delCache:function(t){delete e[t];return this}}}();CN.date=function(){var e={en:{_long:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",")},es:{_long:"enero,febraro,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,deciembre".split(",")}},t={en:{_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},es:{_long:"el domingo,el lines,el martes,el miércoles,el jueves,el viernes,el sábado".split(",")}},n=function(e,t){e=e.toString();var n=t-e.length,r;for(r=0;r<n;r++){e="0"+e.slice(0,e.length)}return e},r={G:function(){return"AD"},y:function(e,t){var r=e.getFullYear().toString();r=t===2?r.substring(r.length-2,r.length):n(r,t);return r},M:function(e,t){var r=e.getMonth(),i={};if(t<3){r=n(r+1,t)}else{i.form=t===3?"short":"long";r=CN.date.getMonthName(r,i)}return r},w:function(e,t){var r=new Date(e.getFullYear(),0,1),i;i=Math.ceil(((e-r)/864e5+r.getDay()+1)/7);i=n(i,t);return i},D:function(e,t){var r=new Date(e.getFullYear(),0,1),i;i=Math.ceil((e-r)/864e5+r.getDay()+1);i=n(i,t);return i},d:function(e,t){return n(e.getDate(),t)},E:function(e,t){var n={};n.form=t>3?"long":"short";return CN.date.getDayName(e.getDay(),n)},a:function(e,t){return e.getHours()<12?"AM":"PM"},H:function(e,t){return n(e.getHours(),t)},k:function(e,t){return n(e.getHours()+1,t)},K:function(e,t){var r=e.getHours();return n(r-12>=0?r-12:r,t)},h:function(e,t){var r=e.getHours();return n(r-13>=0?r-12:r,t)},m:function(e,t){return n(e.getMinutes(),t)},s:function(e,t){return n(e.getSeconds(),t)},S:function(e,t){return n(e.getMilliseconds(),t)}};return{isLeapYear:function(e){return!!(e&&e%4===0&&(e%100!==0||e%400===0))},getDaysInMonth:function(e,t){return e===1&&this.isLeapYear(t)?29:[31,28,31,30,31,30,31,31,30,31,30,31][e]||0},getMonthName:function(e,t){t=t||{};return CN.date.getMonthNames(t)[e]||""},getMonthNames:function(t){t=t||{};return e[t.lang||"en"]["_"+(t.form||"long")]||[]},getDayName:function(e,t){t=t||{};return CN.date.getDayNames(t)[e===7?0:e]||""},getDayNames:function(e){e=e||{};return t[e.lang||"en"]["_"+(e.form||"long")]||[]},format:function(e,t){if(!CN.isDate(e)){CN.debug.warn("date.format() method requires a JavaScript date object to be passed");return e}var n="",i=function(e){n+=e},s,o,u="",a=1,f,l;if(CN.isString(t)){t=t.split("");for(s=0,o=t.length;s<o;s++){u=t[s];if(r[u]){while(t[s+a]===t[s]){a+=1}i(r[u](e,a))}else{if(t[s]==="'"){if(t[s+1]!=="'"){f=t.slice(s+1,t.length);l=f.slice(0,f.indexOf("'"));i(l.join(""));a+=l.length+1}else{i("'");a+=1}}else{i(t.slice(s,s+1).join(""))}}s+=a-1;u="";a=1}}else{n=e.toString()}return n},isoToDate:function(e){var t=/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/,n=0,r=e.match(t),i=new Date(r[1],0,1);if(r[3]){i.setMonth(r[3]-1)}if(r[5]){i.setDate(r[5])}if(r[7]){i.setHours(r[7])}if(r[8]){i.setMinutes(r[8])}if(r[10]){i.setSeconds(r[10])}if(r[12]){i.setMilliseconds(Number("0."+r[12])*1e3)}if(r[14]){n=Number(r[16])*60+Number(r[17]);n=n*(r[15]=="-"?1:-1)}n=n-i.getTimezoneOffset();i.setTime(Number(Number(i)+n*60*1e3));return i},convertIwDateToIso:function(e){var t="";if(CN.isString(e)){t=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)+"T"+e.substr(9,8)+"-05:00"}return t||""}}}();CN.frame=function(e){var t=function(n){var r=n.data&&n.data.use?n.data.use:this,i;try{if(r.contentWindow){i=r.contentWindow.document.getElementsByTagName("body")[0]}else if(r.contentDocument){i=r.contentDocument.document.getElementsByTagName("body")[0]}}catch(n){return CN.debug.user(n,[r,r.id])}if(typeof n.data==="undefined"){e("iframe",i).bind("load",{use:r},t)}if(!e(".textAd",i).length||!e("#adHolder a",i).eq(0).text()){e("#adHolder",i).css({"font-size":0,"line-height":0})}e(r).css({border:"none",margin:0,height:e(i).css({overflow:"hidden",margin:0,border:0}).outerHeight()})};return{bindResize:function(n){e(n).bind("load",t);return this},refresh:function(n,r,i,s){n=CN.isString(n)?n.split(/,|\s+/):e.isArray(n)?n:[];if(!n.length){return this}if(CN.isObject(i)){s=i,i=true}if(CN.isObject(r)){s=r,r=""}if(CN.isBoolean(r)){i=r;r=""}i=i==null?true:i;e.each(n,function(n,o){if(!/\S/.test(o)){return true}var u=e(o);if(!u.length){return true}if(i){u.bind("load",t)}CN.callwhen.run(s,u);r=r||u[0].src;try{u[0].contentWindow.location.replace(r);CN.debug.info("CN Frame Refresh",[o,r,i])}catch(a){CN.debug.user(a,[o,r,i])}});return this},resize:function(n){e(n).bind("load",t).triggerHandler("load");return this}}}(jQuery);CN.internal=function(){return{getTeamsiteServer:function(){return"deprecated"}}}();CN.media=function(e){var t,n;t=function(e){swfobject.embedSWF.apply(window,e)};n=function(e){setTimeout(function(){t(e)},200)};return{swf:function(r){if(typeof swfobject==="undefined"){CN.debug.info("Dynamically loading swfobject.js - consider placing the script call in the site JSP if load time/FOUC is an issue.");e.getScript("/js/cn-fe-common/misc/swfobject.js",function(){n(r)})}else{CN.debug.info("swfobject.js already loaded or being loaded on page, using it to render mediaItem");t(r)}}}}(jQuery);CN.modules=function(){CN.customEvents=CN.customEvents||{};CN.customEvents.moduleLoaded={};var e,t=[];e=function(e){CN.modules.loaded.push(e);jQuery(window).trigger("CN.customEvents.moduleLoaded."+e)};return{register:e,loaded:t}}();CN.page=function(){return{config:{},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0]},subsection:function(){return((location.pathname.split("/")[2]||"").match(/^[^\.|(\d{4})]*$/)||[""])[0]},slug:function(){return((location.pathname.split("/")[location.pathname.split("/").length-1]||"").match(/^[^\.]*$/)||[""])[0]}}}();CN.reg=function(e){function r(){t.bind("submit",function(){var t=e("#bdayfield",this);if(t.length&&e("#birthYear",this).val()!="YYYY"){t.val([e("#birthMonth",this).val(),e("#birthDay",this).val(),e("#birthYear",this).val()].join("/"))}})}var t={},n="rqrd";return{setForm:function(n){t=e(n);r();return this},getForm:function(){return t},setBirthday:function(){var n=e("#bdayfield",t);if(n.length){var r=n.val().split("/");e("#birthMonth",t).val(r[0]);e("#birthDay",t).val(r[1]);e("#birthYear",t).val(r[2])}},setReq:function(t){e(t).parents(".row").addClass(n)},removeReq:function(t){e(t).parents(".row").removeClass(n)},getReqClass:function(){return n}}}(jQuery);CN.search=function(){var e={alphanum:/[^0-9a-zA-Z\s]/g,script:/<script(.|\s)*?\/script>/g};return{path:function(e){return this.sanitize(e).replace(/\s+/g,"-")},sanitize:function(t){return CN.utils.trim(t||"").replace(e.script,"").replace(e.alphanum,"")}}}();CN.user=function(){return{isLoggedIn:function(){return CN.cookie.get("amg_user_record")&&CN.cookie.get("amg_user")},isConfirmed:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").conf==="true"},username:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").username||""},userid:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").uid||0}}}();CN.world=function(e){var t={msg:"Select your",us:{desc:"state",code:"AL,AK,AZ,AR,CA,CO,CT,DE,DC,FL,GA,HI,ID,IL,IN,IA,KS,KY,LA,ME,MD,MA,MI,MN,MS,MO,MT,NE,NV,NH,NJ,NM,NY,NC,ND,OH,OK,OR,PA,RI,SC,SD,TN,TX,UT,VT,VA,WA,WV,WI,WY,AE,AA,AP".split(","),name:"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware,District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky,Louisiana,Maine,Maryland,Massachusetts,Michigan,Minnesota,Mississippi,Missouri,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York,North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Pennsylvania,Rhode Island,South Carolina,South Dakota,Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming,Armed Forces Europe,Armed Forces Americas,Armed Forces Pacific".split(",")}},n=function(){return CN.reg.getForm()};return{setForm:function(t){n=e(t);return this},setState:function(){var r=e("#state",n),i=e("#zip",n),s=this.value.toLowerCase();if(!(s in t)){r.attr({disabled:"true"});i.attr({disabled:"true"}).data("val",i[0].value).val("");r[0][0].selected=true;CN.reg.removeReq("#zip, #state")}else{CN.reg.setReq("#zip, #state");i[0].value=e(i).removeAttr("disabled").data("val")||i[0].value;var o=r.children("[selected]").val()||false;r.empty();e(r).removeAttr("disabled")[0][0]=new Option(t.msg+" "+t[s].desc,"");e.each(t[s].code,function(e){r[0][e+1]=new Option(t[s].name[e],this);if(o&&o==this){r[0][e+1].selected=true}})}}}}(jQuery);CN.Interface=function(e,t){var n,r;if(arguments.length!==2){throw new Error("CN.Interface constructor called with "+arguments.length+" arguments, but expected exactly 2")}this.name=e;this.methods=[];for(n=0,r=t.length;n<r;n++){if(typeof t[n]!=="string"){throw new Error("CN.Interface constructor expects method names to be passed in as strings")}this.methods.push(t[n])}};CN.Interface.ensureImplements=function(e){var t,n,r,i,s,o;if(arguments.length<2){throw new Error("Static method CN.Interface.ensureImplements called with "+arguments.length+" arguments, but expected at least 2")}for(t=1,n=arguments.length;t<n;t++){r=arguments[t];if(r.constructor!==CN.Interface){if(jQuery.browser.safari&&jQuery.browser.version<500){}else{throw new Error("Static method CN.Interface.ensureImplements expects arguments two and above to be instances of CN.Interface.")}}for(i=1,s=r.methods.length;i<s;i++){o=r.methods[i];if(!e[o]||typeof e[o]!=="function"){throw new Error("Static method CN.Interface.ensureImplements: object does not implement the "+r.name+" interface. Method "+o+" was not found.")}}}};CN.Observer=function(e){this.fns=[];this.label=e||null};CN.Observer.haveFired=[];CN.Observer.prototype={subscribe:function(e){this.fns.push(e)},unsubscribe:function(e){this.fns=this.fns.filter(function(t){if(t!==e){return t}})},fire:function(e,t){var n=t||window;this.fns.forEach(function(t){t.call(n,e)});if(this.label&&CN.Observer.haveFired.indexOf(this.label)===-1){CN.Observer.haveFired.push(this.label)}}};CN.Timer=function(e,t){this.interval=e;this.timer=null;this.callbacks=[];this.multipliers=[];this.tickCounts=[];this.canRun=[];this.stoppedThreads=0;this.shouldRunOnce=false;this.startedAt=-1;this.pausedAt=-1;this.addCallback(t);return this};CN.Timer.prototype={preset:function(){this.stoppedThreads=0;this.startedAt=-1;this.pausedAt=-1;for(var e=0,t=this.callbacks.length;e<t;e++){this.canRun[e]=true;this.tickCounts[e]=0}},ticks:function(e){var t=this,n,r;for(n=0,r=this.callbacks.length;n<r;n++){if(typeof this.callbacks[n]==="function"&&this.canRun[n]){this.tickCounts[n]++;if(this.tickCounts[n]===this.multipliers[n]){this.tickCounts[n]=0;if(this.runOnce()){this.canRun[n]=false;this.stoppedThreads++}window.setTimeout(t.callbacks[n],0)}}}if(this.runOnce()&&this.stoppedThreads===this.callbacks.length){this.stop()}if(typeof e==="number"){this.stop().start(null,true)}},runOnce:function(e){if(typeof e==="undefined"){return this.shouldRunOnce}else if(typeof e==="boolean"){this.shouldRunOnce=e}else{CN.logger.getInstance().log.error("Invalid argument for runOnce")}return this},getSetInterval:function(e){if(typeof e==="undefined"){return this.interval}else if(typeof e==="number"){this.interval=Math.floor(e)}return this},stop:function(e){if(this.timer){if(!e){this.pausedAt=-1}try{window.clearInterval(this.timer)}catch(t){}this.timer=null}return this},isStopped:function(){return this.timer===null&&!this.isPaused()},start:function(e,t){var n,r=this;if(this.isPaused()){return this.resume()}if(!this.isStopped()){return this}if(!t){this.preset()}n=this.interval;if(typeof e==="number"){n=e}this.timer=window.setInterval(function(){r.ticks(e)},n);this.startedAt=(new Date).getTime();this.startedAt-=this.interval-n;return this},pause:function(){if(this.timer){this.pausedAt=(new Date).getTime();this.stop(true)}return this},isPaused:function(){return this.pausedAt>=0},resume:function(){if(this.isPaused()){var e=this.interval-(this.pausedAt-this.startedAt)%this.interval;this.pausedAt=-1;this.start(e,true)}return this},restart:function(){return this.stop().start()},addCallback:function(e,t){if(typeof e==="function"){this.callbacks.push(e);if(typeof t==="number"){t=Math.floor(t);this.multipliers.push(t<1?1:t)}else{this.multipliers.push(1)}this.tickCounts.push(0);this.canRun.push(true)}return this},clearCallbacks:function(){this.callbacks.length=0;this.multipliers.length=0;this.canRun.length=0;this.tickCounts.length=0;this.stoppedThreads=0;return this}};CN.dom=CN.dom||{};CN.dom.storage={activeClass:"active",inactiveClass:"inactive",innerTag:"span"};CN.dom.storage.activateElement=function(e,t,n){var r,i,s;n=n||this.activeClass;if(e.getElementsByTagName("a").length>0){if(jQuery.browser.msie||jQuery.browser.safari){r=jQuery(e.getElementsByTagName("a")[0]);i=r.clone(true);t=jQuery(i).get()[0];r.remove()}else{t=e.removeChild(e.getElementsByTagName("a")[0])}jQuery(e).addClass(n);s=document.createElement(this.innerTag);s.innerHTML=t.innerHTML;e.appendChild(s);return t}};CN.dom.storage.deactivateElement=function(e,t,n){n=n||this.activeClass;if(e.getElementsByTagName(this.innerTag).length>0){var r=e.getElementsByTagName(this.innerTag);e.removeChild(r[0]);e.appendChild(t);jQuery(e).removeClass(n)}};CN.functionQueue=function(){var q=[];return{addToQueue:function(e,t,n){var r={fName:e,args:t};q.push(r)},execute:function(qId){var l=q.length,i,tempF;for(i=0;i<l;i++){tempF=eval(q[i].fName);tempF.apply(tempF,q[i].args)}}}}();CN.IDoc=new CN.Interface("IDoc",["getId","getTitle","getKeywords","getDocType","hasComments","hasRatings"]);var MAGNET=CN;CN.dart=function(e,t,n){var r=e(window),i={},s=false,o={ad:{},params:{},charmap:{},container:"_frame",dcopt:true,frameurl:"/ads/newad.html",embed:false,initialized:false,ready:false,ord:Math.floor(Math.random()*1e13),remote:"/services/dart/",retry:false,site:"",tiles:[],tile:0,transparency:true,url:location.protocol+"//ad.doubleclick.net/adj/",zone:"",configFile:"/ads/cn.dartconfig.js",configLoaded:false,configData:{}},u=/kw=/g,a="CN Ad ",f={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn",config:"Config file found"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw",config:"Config file not found"}},l={mark:function(e){this[e]=e==="start"?(new Date).getTime():(new Date).getTime()-this.start}},c=e("<iframe/>").attr({allowtransparency:o.transparency,frameBorder:0,scrolling:"no"}).css({border:"none",margin:0,padding:0}),h=function(e,t){return a+f[(t!==false).toString()][e||"gen"]},p=function(e,t){return o.url+o.site+"/"+(t||e.zone||o.zone)+"sz="+e.sz+";"+"tile="+e.tile+";"+(e.tile===1&&o.dcopt===true?"dcopt=ist;":"")+(!t?N(e):"")+d(e)+"ord="+o.ord+"?"},d=function(e){var t=o.params,n="",r;for(r in t){if(t.hasOwnProperty(r)){if(!t[r].noKey){n+=r+"=";n+=t[r].refresh&&e.kws.length!==o.ad.kws.length?t[r].refresh(e):t[r].defaultValue}else{n=t[r].refresh&&e.kws.length!==o.ad.kws.length?t[r].refresh(e):t[r].defaultValue+n}}}return n},v=function(t,r){var u=t+r.sz,a,f=i[u]={tile:o.tiles.push(u),el:e("#"+u+o.container),kws:P(o.ad.kws,D.kws(r.kws)||[]),store:r.store===false?false:o.ad.store,sz:r.sz,isDrawn:false,xkws:D.kws(r.kws)||[],zone:r.zone?D.adzone(r.zone):false,collapse:r.collapse===true};if(o.embed){j(u)}else if(o.ready){if(!s){g()}}else{n.info(h("queue"),[u,f])}return this},m=function(e,t){var s=i[e],u=s.sz.split("x");s.url=p(s,t);s.el.html(s.frame=c.clone().attr({id:e,name:e,height:s.collapse?1:u[1],width:u[0],src:s.url&&o.frameurl+"#"+encodeURIComponent(s.url)}).bind("load",{key:e,ad:s},function(t){if(t.data.ad.tile===1){r.trigger("CN.customEvents.dartAdDrawn",[e,"#"+e,s])}C(t)}));s.isDrawn=true;n.info(h("call"),[e,s]);return this},g=function(e){var t=0,n=o.tiles,r=n.length;s=r>0;for(;t<r;t++){if(i[n[t]].isDrawn===false){m(n[t]);if(t===0){break}}if(t===r-1){s=false;l.mark("rendered")}}},y=function(e){if(o.initialized){n.warn(a+"Initialization called more than once.  This should only happen once per page.");return false}S(e)},b=function(e){var s=o.configLoaded&&o.configData.sponsorParameter?o.configData.sponsorParameter:false;D.charmap(e.charmap);o.initialized=true;o.site=e.site;o.zone=D.adzone(e.zone);o.ad={store:true,kws:t.url.params(s,location.search)?D.kws(t.url.params(s,location.search)):D.kws(e.kws),tile:o.tile};if(o.configLoaded&&o.configData.docReferrer){w()}_();k.run();if(o.configLoaded&&o.configData.dartRefresh){E()}o.embed=e.embed||o.embed;if(o.embed){n.info(h("embed",true),[])}l.mark("init");n.info(a+"Initialized",[i]);r.bind("CN.customEvents.dartRequest",function(e){g(e)}).bind("CN.customEvents.dartAdDrawn",function(e){g(e)}).trigger("CN.customEvents.dartInitialized")},w=function(){var e=document.referrer.match(/([^\/]+)/g)||[""],t=e[e.length-1];if(t){t=t.replace(/\?.*$/g,"").replace(".html","","gi");o.ad.kws[o.ad.kws.length]=""+D.kws(t)}},E=function(){var e=o.configData.dartRefreshTimeMsec||3e5;setInterval(function(){t.dart.refresh();n.info(a+"Refreshed ",[])},e);n.info(a+"Refresh Initialized to "+e+"ms",[])},S=function(t){e.ajax({url:o.configFile,dataType:"json",async:false,error:function(){n.info(h("config",false),[]);o.configLoaded=false},cache:true,success:function(e){x(e)},complete:function(){n.info(a+"dartConfig call complete",[]);b(t)}})},x=function(e){if(e[t.site.name]){for(prop in e[t.site.name]){o.configData[prop]=e[t.site.name][prop]}o.configLoaded=true;n.info(a+"config file loaded successfully",[])}else{o.configLoaded=false;n.info(a+"Sitename not found in config file or refresh is disabled. Ads will not refresh",[])}},T=function(e,t){var n=t[e];return n===undefined?false:n},N=function(e){return"kw="+e.kws.join(";kw=")+";"+(e.xkws.length?"!c="+e.xkws.join(";!c=")+";":"")},C=function(e){var t=e.data.key,r=i[t];try{r.doc=r.frame.contents()}catch(s){n.user(e,[e.target,e.target.id])}n.info(h("drawn"),[t,r]);O(e)},k={queue:[],register:function(e){if(!e||!e.init||e.isFinished===undefined||!e.callbacks){n.info(h("plug",false),[e?e.name:"",e||{}]);return false}this.queue.push(e);n.info(h("plug"),[e.name||"",e]);r.unbind("CN.customEvents.dartInitialized");return true},run:function(){var e=0,t=this.queue.length,r=false,i,s;for(;e<t;e++){i=this.queue[e];n.info(a+"Running Plugin",[i.name]);i.init({queue:this.queue,position:e,plugin:i})}},finished:function(e,r,i){var s=0,o=e.data,u=o.queue.length,a=o.validate(i);n.info(h("valid",a),[r.name,i]);for(;s<u;s++){if(o.queue[s].isFinished===false){n.info(h("finished",false),[r.name]);return false}}n.info(h("finished",true));L.call(t.dart)},validate:function(e){var t=true,n;for(n in e){if(e.hasOwnProperty(n)){t=D[n]&&D[n](e[n])&&t}}return t||false}},L=function(e){o.ready=true;l.mark("ready");n.info(a+"Call State Set to Ready");r.trigger("CN.customEvents.dartRequest");return this},A=function(n,s){if(o.embed){return this}var u=n?n.toString().split(/,|\s+/):o.tiles,a=u.length,f=t.isObject(s),l=0,c,h;o.ord=Math.floor(Math.random()*1e13);if(a===o.tiles.length){e('script[id*="prscr"], .prWrap').remove()}for(;l<a;l++){h=i[c=u[l]];if(h&&h.store){h.el.height("").height(h.el.height());h.isDrawn=false}}if(o.ready){r.trigger("CN.customEvents.dartRequest")}return this},O=function(t){var s=t.data&&t.data.key?i[t.data.key].frame:e(t.target),o=s.attr("name"),u=i[o],a=false,f,l;if(u.doc){f=u.doc.find("body");l=f.outerHeight();a=e(".textAd",f)}else{return this}if(a.length){a.clone().appendTo(u.el);a.remove()}if(l===1){u.el.removeClass("ad-served").addClass("ad-not-served")}else{u.el.removeClass("ad-not-served").addClass("ad-served")}s.css({width:u.el.width(),height:f.outerHeight()});u.el.height("");r.trigger("CN.customEvents.dartResize."+o,[o,"#"+o,u]);n.info("CN Ad Frame Resize",[o,s.css("height")+" x "+s.css("width")])},M=function(e){var r=t.dart.get("tiles")[e-1],s=i[r],o,u;try{s.doc=s.frame.contents()}catch(a){n.warn("Failed to retrieve iframe content (err.descr.): "+a.description)}if(s.doc){o=s.doc.find("body");u=o.outerHeight()}else{return this}if(u===1){s.el.removeClass("ad-served").addClass("ad-not-served")}else{s.el.removeClass("ad-not-served").addClass("ad-served")}s.frame.css({width:s.el.width(),height:u});n.info("CN Ad Frame Recalculate Size",[r,s.frame.css("height")+" x "+s.frame.css("width")])},_=function(){var e;for(e in i){if(i.hasOwnProperty(e)){i[e].kws=P(o.ad.kws,i[e].kws)}}},D=function(){var e=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,r=function(e){if(t.site.testads){return o.site}var n=e.split("."),r=o.site.split("."),i=0,s=r.length>n.length?r.length:n.length,u=[];for(;i<s;i++){u[i]=n[i]||r[i]}return u.join(".")},i=/^https?:/,s=/;$|$/,u=new RegExp(t.site.testads?"testads;"+"$":"[\\w_;]+$"),a=function(e){var t,r=o.charmap;if(u.test(e)){for(t in r){if(r.hasOwnProperty(t)){e=e.replace(new RegExp(t,"gi"),r[t])}}return e.replace(s,";")}n.warn("CN Dart zoneResolver",["Invalid Dart Zone",e]);return e},f=function(e){var t,n=o.charmap;for(t in n){if(n.hasOwnProperty(t)){e=e.replace(new RegExp(t,"gi"),n[t])}}return e};return{ad:function(e){if(!e.kws){return false}else{o.ad.kws=jQuery.isArray(e.kws)?P(e.kws):o.ad.kws;_();return true}},addparam:function(e){var t,n,r;if(!e){return false}if(Object.prototype.toString.call(e)==="[object Array]"){n=e}else{n=[e]}for(r=0;r<n.length;r+=1){if(!n[r].pKey){return false}t={};t.defaultValue=n[r].pValue;t.refresh=n[r].refresh;t.noKey=n[r].noKey||false;o.params[n[r].pKey]=t}return true},charmap:function(t){var n,r=o.charmap={};for(n in t){if(t.hasOwnProperty(n)){r[n.replace(e,"\\$1")]=t[n]}}return true},dcopt:function(e){if(t.isBoolean(e)){o.dcopt=e;return true}else{return false}},embed:function(e){if(t.isBoolean(e)){o.embed=e;return true}else{return false}},site:function(e){o.site=r(e);return true},url:function(e){if(t.isString(e)){o.url=e.replace(i,location.protocol);return true}return false},zone:function(e){var t=a(e);if(t){o.zone=t;return true}return false},adzone:a,kws:function(e){var t=e?[].concat(e):[],n=0,r=t.length;for(;n<r;n++){t[n]=f(t[n])}return t}}}(),P=function(){var e,t=0,n=[].concat.apply([],arguments).sort(),r=n.length;for(;t<r;t++){e=n.shift();if(n[0]!==e){n.push(e)}}return H(n.join(",")).split(",")},H=function(e){return e.replace(/^,|\s*|,^/g,"")},B={init:function(e,r,i){if(!r||o.initialized){n.info(a+"Remote Init error.  No calls will be made.",["site : "+e]);return this}o.frameurl=e+o.frameurl;o.remoteSite=e;o.remoteInit=e+o.remote+"init/"+r+"/"+"kw="+t.url.path().join(";kw=")+";"+i;F(o.remoteInit)}},j=function(e,t){var s=i[e];n.info(h("call"),[e,s]);s.frame=false;F(s.url=p(s,t));s.isDrawn=true;r.trigger("CN.customEvents.dartAdDrawn."+e,[e,"#"+e,s]);n.info(h("drawn"),[e,s]);return this},F=function(e){document.write("<scr"+'ipt type="text/javascript" src="'+e+'"></scr'+"ipt>")},I=function(e){g(e.data.key)},q=function(e){g(e.data.key,e.data.url)},R=function(e){g(e.data.key)};r.one("CN.customEvents.dartInitialized",L);r.bind("CN.customEvents.dartPlugin",k,k.finished);l.mark("start");return{buildurl:p,calls:function(n){return e.extend({},n===true?i:t.isNumber(n)?i[o.tiles[n]]:i[n]||{})},call:v,timer:l,clone:function(e,t){if(o.tiles.length){return v(t,{sz:e,kws:i[o.tiles[0]].kws})}return false},refresh:A,get:function(e){e=[].concat(e);var t=0,n=e.length,r={},i;for(;t<n;t++){i=e[t];r[i]=o[i]||o[i]===false?o[i]:undefined}return n>1?r:r[i]},init:y,ondraw:o.embed?false:C,ready:L,recalSize:M,register:function(e){var t=0,n;if(!e){return this}e=[].concat(e);n=e.length;for(;t<n;t++){k.register(e[t])}return this},remote:B,test:D}}(jQuery,CN,CN.debug);CN.dart.ipad=function(e){var t=".ipad",n=function(e){var n=0,i=r.callbacks.length;r.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[r,{site:CN.dart.get("site")+t}]);for(;n<i;n++){r.callbacks[n]["func"].apply(r.callbacks[n]["scope"]||null,r.callbacks[n]["args"]||[])}},r={init:e.indexOf("ipad")!==-1?n:false,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:e.indexOf("ipad")===-1};return r}(navigator.userAgent.toLowerCase());CN.dart.suppression=function(){var e=CN.url.params(),t=false,n=function(e){var n=0,i=r.callbacks.length;r.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[r,t]);for(;n<i;n++){r.callbacks[n]["func"].apply(r.callbacks[n]["scope"]||null,r.callbacks[n]["args"]||[])}},r;if(e.npu==="1"||e.mbid&&e.mbid.match(/yhoo|google[1-5]?$/)){t={dcopt:false}}r={init:t?n:false,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!t};return r}();CN.dart.register([CN.dart.ipad,CN.dart.suppression]);if(typeof CN==="undefined"||!CN){throw"CN and/or jQuery library is missing!"}CN.ad=CN.ad||{};CN.ad.lotame=function(e,t,n){var r=false,i=location.protocol||"http:",s=800,o="|",u=CN.site.name||location.hostname.split(".").splice(-2)[0],a={allure:293,architecturaldigest:294,bonappetit:295,brides:296,concierge:297,details:298,"epicurious.com":299,glamour:300,golfdigest:301,gourmet:973,gq:302,luckymag:303,newyorker:304,nutritiondata:306,self:306,style:307,teenvogue:308,vanityfair:309,vogue:310,wmagazine:311,wired:312,webmonkey:318,wwd:1390},f=a[u]?a[u]:false,l=[i+"//ad.crwdcntrl.net/4/pe=y","c=244","var=CN.ad.lotame.tags","out=json"].join(o),c=f?[i+"//tags.crwdcntrl.net/c/","/cc.js"].join(f):false,h=function(){e.ajax({url:l,dataType:"script",timeout:s,error:function(e,t){v(false);n.info(g.name+" plugin disabled",["script "+t,"using site code "+f])},cache:true,success:function(e){r=true;m()},complete:function(){n.info(g.name+" cc call complete")}});return true},p=function(){var t;if(!f){return false}if(typeof LOTCC==="undefined"){LOTCC={asyncBehaviors:{},async:true}}t=document.createElement("script");t.src=c;e(function(){e("head",document)[0].appendChild(t)});return true},d=function(e){h();setTimeout(function(){if(!g.isFinished&&!r){m()}},5e3)},v=function(t){var n=0,r=g.callbacks.length;g.isFinished=true;e(window).trigger("CN.customEvents.dartPlugin",[g,t]);for(;n<r;n++){g.callbacks[n]["func"].apply(g.callbacks[n]["scope"]||null,g.callbacks[n]["args"]||[])}},m=function(){var e=0,r,i,s=[],o=CN.ad.lotame.tags;if(!o){n.warn("Lotame Request Timed Out",["Setting plugin to finished to procceed to render ads"]);return v(false)}if(o.Profile){i=o.Profile.Audiences.Audience;r=i.length;for(;e<r;e++){s.push(i[e].abbr)}}v({ad:{kws:t.get("ad").kws.concat(s)}})},g={init:d,name:"CN Ad Lotame Audience kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:false},y=function(){t.register(g)};if(!f){n.error(g.name+" missing code for this site.  Verify the site is in the list.",[a]);return false}y();p();return{tags:false}}(jQuery,CN.dart,CN.debug);if(typeof CN==="undefined"||!CN){throw"CN and/or jQuery library is missing!"}CN.ad=CN.ad||{};CN.ad.yieldex=function(e,t,n){var r=294,i=function(e){var t=null,r=e.queue,i=r.length-1,u=function(){o.pValue=s();f({addparam:o})};for(;i>=0;i--){t=r[i];if(t!==l&&a(t)){n.info(l.name+" found dependency: "+t.name,["Pushing to callbacks array"]);if(!t.isFinished){return t.callbacks.push({func:u,args:null,scope:null})}}}u()},s=function(e){var i=t.get("ad").kws,s=typeof e!=="undefined"?e.kws:i,o;if(i.length!==s.length){o=s.join("|")}else{o=i.join("|")}n.info(l.name+" assembled",[{common:i,ad:s,value:o}]);return(o.length<=r?o:u(o))+";"},o={pKey:"u",pValue:null,refresh:s},u=function(e){var t;n.info(l.name+" limit reached.  Truncating",[{limit:r,length:e.length,str:e}]);e=("trunc|"+e).substr(0,r-6);t=e.lastIndexOf("|");return e.substr(0,t)},a=function(e){var t=0,n=e.modifies,r=l.requires,i=null;if(n&&n.length&&r&&r.length){for(;t<r.length;t++){i=r[t];if(n.indexOf(i)!==-1){return true}}}return false},f=function(t){var n=0,r=l.callbacks.length;l.isFinished=true;e(window).trigger("CN.customEvents.dartPlugin",[l,t]);for(;n<r;n++){l.callbacks[n]["func"].apply(l.callbacks[n]["scope"]||null,l.callbacks[n]["args"]||[])}},l={init:i,name:"CN Ad Yieldex",modifies:["common.params"],requires:["keywords"],callbacks:[],isFinished:false},c=function(){t.register(l)};c(l);return{param:o}}(jQuery,CN.dart,CN.debug);if(typeof CN==="undefined"||!CN){throw"CN and/or jQuery library is missing!"}CN.ad=CN.ad||{};CN.ad.aam=function(e,t,n){"use strict";var r=294,i="aam_uuid",s="aamconde",o={pKey:"u",pValue:null,refresh:f},u={pKey:"aamVals",pValue:null,refresh:l,noKey:true},a=function(e){var t;n.info(v.name+" limit reached.  Truncating",[{limit:r,length:e.length,str:e}]);e=("trunc|"+e).substr(0,r-6);t=e.lastIndexOf("|");return e.substr(0,t)+";"},f=function(e){var n=t.get("params")["u"].defaultValue,s="",o={};s=CN.cookie.get(i);if(s!==""&&n.indexOf(s)===-1){n=s+"|"+n}return n.length<=r?n:a(n)},l=function(e){var t="",n="";t=CN.cookie.get(s);if(t!==""){n=t+";"}return n},c=function(e){o.pValue=f(e);u.pValue=l(e);n.info(v.name+" assembled",[{uvalue:o.pValue,aamskw:u.pValue}])},h=function(e){var t=0,n=e.modifies,r=v.requires,i=null;if(n&&n.length&&r&&r.length){for(t=0;t<r.length;t+=1){i=r[t];if(n.indexOf(i)!==-1||i===e.name){return true}}}return false},p=function(t){var n=0,r=v.callbacks.length;v.isFinished=true;e(window).trigger("CN.customEvents.dartPlugin",[v,t]);for(n=0;n<r;n+=1){v.callbacks[n]["func"].apply(v.callbacks[n]["scope"]||null,v.callbacks[n]["args"]||[])}},d=function(e){var t=null,r=e.queue,i=r.length-1,s=function(){c();p({addparam:[u,o]})};for(i=r.length-1;i>=0;i-=1){t=r[i];if(t!==v&&h(t)){n.info(v.name+" found dependency: "+t.name,["Pushing to callbacks array"]);if(!t.isFinished){return t.callbacks.push({func:s,args:null,scope:null})}}}s()},v={init:d,name:"CN Ad Adobe Audience Manager",modifies:["common.params"],requires:["CN Ad Yieldex"],callbacks:[],isFinished:false},m=function(){t.register(v)};m(v)}(jQuery,CN.dart,CN.debug)